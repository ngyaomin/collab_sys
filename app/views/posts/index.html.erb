<h1> All Posts </h1>

<div>
  <%= link_to 'Add New Post', new_post_path, :class => "btn btn-primary btn-sm" %>
  <br>
  <br>
</div>


<% @posts.each do |post| %>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4><%= post.title %></h4>
      <p>Topic:  <%= post.topic %></p>
    </div>
    <div class="panel-body">
      <article><%= post.content %></article>
    </div>
    <div class="panel-footer">
      <%= link_to 'More details', post_path(post), :class => "pull-right" %>
      Posted <%= time_ago_in_words(post.created_at) %> ago
      <br>
      <%= "#{post.comments.count} comments" %>

      <div class="caption">
        <%= link_to like_post_path(post), class: "like", method: :put do %>
          <button type="button" class="btn btn-sm btn-default">
            <span class="glyphicon glyphicon-thumbs-up glyphicon-align-center"></span>
            <!-- <span class="badge"><%#= post.get_likes.size %></span> -->
            <!-- post.get_upvotes.size -->
          </button>
        <% end %>
        <%= link_to unlike_post_path(post), class: "like", method: :put do %>
        <button type="button" class="btn btn-sm btn-default">
          <span class="glyphicon glyphicon-thumbs-down glyphicon-align-center"></span>
          <!-- <span class="badge"><%#= post.get_downvotes.size %></span> -->
          <!-- post.get_downvotes.size -->
        </button>
        <% end %>
      </div>

    </div>
  </div>
<% end %>
